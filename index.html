<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Card Value Calculator</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css"/>
    <link rel='stylesheet' href="source/index.css"/>

    <script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type='text/javascript' src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
    <script type='text/javascript' src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.full.min.js"></script>
    <script type='text/javascript' src="source/data.js"></script>
    <script type='text/javascript' src="source/index.js"></script>
</head>

<body id="page-top" style="overflow-y: scroll">
<br style="height: 100px;"/>
<div class="container card">

    <div class="text-center">
        <br/><h2>Card Value Calculator</h2>
    </div>

    <hr/>

    <div class="form-row card-body">

        <div class="form-group col-lg-2 col-sm-6">
            <label class="form-label"><b>Rarity</b></label>
            <select class="form-control shadow-xs-inset" id="CardRarity">
            </select>
        </div>

        <div class="form-group col-lg-1 col-sm-3">
            <label class="form-label"><b>Cost</b></label>
            <input class="form-control shadow-xs-inset" type="number" min="0" max="3" value="1" id="CardCost"/>
        </div>

        <div class="form-group col-lg-1 col-sm-3">
            <label class="form-label"><b>Upgrade</b></label>
            <input class="form-control shadow-xs-inset" type="number" min="0" value="0" id="CardUpgrade"/>
        </div>

        <div class="form-group col-lg-8 col-sm-12">
            <label class="form-label"><b>Card Modifiers</b></label>
            <select class="advancedDropdown form-control shadow-xs-inset" multiple="multiple" id="CardModifiers">
            </select>
        </div>

        <div class="form-group col-lg-4 col-sm-8">
            <label class="form-label"><b>Effect</b></label>
            <select class="advancedDropdown form-control shadow-xs-inset" id="EffectType"></select>
        </div>

        <div class="form-group col-lg-2 col-sm-4">
            <label class="form-label"><b>Amount</b></label>
            <input class="form-control shadow-xs-inset" type="number" value="1" id="EffectAmount"/>
        </div>

        <div class="form-group col-lg-3 col-sm-6">
            <label class="form-label"><b>Modifier 1</b></label>
            <select class="form-control shadow-xs-inset" id="EffectModifier1">
                <option value="-1" selected>-</option>
            </select>
        </div>

        <div class="form-group col-lg-3 col-sm-6">
            <label class="form-label"><b>Modifier 2</b></label>
            <select class="form-control shadow-xs-inset" id="EffectModifier2">
                <option value="-1" selected>-</option>
            </select>
        </div>

        <hr class="col-12"/>

        <div class="form-group col-lg-2 col-sm-4">
            <input type="button" value="Add" class="form-control btn btn-success" onclick="AddFormula()"/>
        </div>

        <div class="form-group col-lg-2 col-sm-4">
            <input type="button" value="Refresh" class="form-control btn btn-primary" onclick="CalculateTotal()"/>
        </div>

        <div class="form-group offset-lg-6 col-lg-2 col-sm-4">
            <input type="button" value="Reset" class="form-control btn btn-danger" onclick="location.reload(true);"/>
        </div>

        <div class="form-group input-group col-12" id="EffectFormulaTemplate" hidden="hidden">
            <input type="text" readonly="readonly" class="form-control"/>
            <div class="input-group-append">
              <button class="btn btn-danger" type="button" onclick="$(this).parent().parent().remove(); CalculateTotal()">X</button>
            </div>
        </div>

        <div class="form-group col-12">
            <input type="text" readonly="readonly" class="form-control" id="Total" style="font-weight: bold"/>
        </div>

        <hr class="col-12"/>

        <div class="form-group col-12">
            <textarea readonly="readonly" class="form-control" rows="4" id="Export"></textarea>
        </div>
    </div>

</div>
</body>

<style>
    .select2
    {
        width: 100% !important;
    }
</style>

<script>
    $(document).ready(function() 
    {
        Setup();

        $('.advancedDropdown').select2({ containerCssClass: "shadow-xs-inset" });
    });
</script>